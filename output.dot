digraph G {
    graph [rankdir=LR, clusterrank="local"];
    subgraph cluster_G {

        graph [style="filled,rounded", fillcolor="#80808018", label=""];
        orchestrator__orchestrator [label="orchestrator.orchestrator", style="filled", fillcolor="#ffffffb2", fontcolor="#000000", group="0"];
        subgraph cluster_orchestrator__orchestrator {

            graph [style="filled,rounded", fillcolor="#80808018", label="orchestrator.orchestrator"];
            orchestrator__orchestrator__MagicTalesCoreOrchestrator [label="MagicTalesCoreOrchestrator\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:107)", style="filled", fillcolor="#ff9999b2", fontcolor="#000000", group="0"];
            subgraph cluster_orchestrator__orchestrator__MagicTalesCoreOrchestrator {

                graph [style="filled,rounded", fillcolor="#80808018", label="orchestrator.orchestrator.MagicTalesCoreOrchestrator"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator____init__ [label="__init__\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:119)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___cancel_token_refresh_task [label="_cancel_token_refresh_task\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:199)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___check_for_correct_keys_within_command [label="_check_for_correct_keys_within_command\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:1079)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___check_profile_exists [label="_check_profile_exists\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:1109)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___convert_chat_to_string [label="_convert_chat_to_string\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:1403)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___create_new_profile_from_chat [label="_create_new_profile_from_chat\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:1309)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___extract_chat_key_elements [label="_extract_chat_key_elements\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:1427)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___extract_post_processed_chapters [label="_extract_post_processed_chapters\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:1834)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___fetch_user_data_and_update_knowledge_base [label="_fetch_user_data_and_update_knowledge_base\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:854)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___filter_chat_info [label="_filter_chat_info\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:1977)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___format_messages [label="_format_messages\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:676)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_chapter [label="_generate_chapter\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:1685)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_chapter_title [label="_generate_chapter_title\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:1586)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_cover_image_prompt [label="_generate_cover_image_prompt\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:1810)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_final_document [label="_generate_final_document\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:2003)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_image_prompts [label="_generate_image_prompts\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:1778)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_image_prompts_for_all_chapters [label="_generate_image_prompts_for_all_chapters\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:1734)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_images [label="_generate_images\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:1889)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_starting_message [label="_generate_starting_message\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:996)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_story [label="_generate_story\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:1602)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_system_request_to_update_user [label="_generate_system_request_to_update_user\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:821)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_communication_with_assistant [label="_handle_communication_with_assistant\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:694)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_continue_where_we_left_off_response [label="_handle_continue_where_we_left_off_response\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:1187)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_link_user_with_conversations [label="_handle_link_user_with_conversations\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:437)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_new_tale [label="_handle_new_tale\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:808)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_spin_off_tale [label="_handle_spin_off_tale\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:773)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_start_story_generation [label="_handle_start_story_generation\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:1148)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_user_id_change [label="_handle_user_id_change\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:249)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_user_request_update_profile [label="_handle_user_request_update_profile\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:762)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___initialize_assistants [label="_initialize_assistants\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:297)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___process_story_generation_step [label="_process_story_generation_step\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:905)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___query_user_data [label="_query_user_data\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:885)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___reset [label="_reset\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:957)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___resume_story [label="_resume_story\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:542)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___save_command_message [label="_save_command_message\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:415)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___send_error_message [label="_send_error_message\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:459)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___update_profile_from_chat [label="_update_profile_from_chat\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:1227)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator___validate_openai_api_key [label="_validate_openai_api_key\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:193)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator__create_and_send_progress_update [label="create_and_send_progress_update\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:623)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator__create_story_foundation_from_chat_elements [label="create_story_foundation_from_chat_elements\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:1523)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator__fetch_latest_story_for_user [label="fetch_latest_story_for_user\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:472)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_assistant_requests [label="handle_assistant_requests\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:1008)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_command_conversation_recovery [label="handle_command_conversation_recovery\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:382)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_command_link_user_with_conversations [label="handle_command_link_user_with_conversations\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:403)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_command_new_tale [label="handle_command_new_tale\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:367)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_command_spin_off [label="handle_command_spin_off\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:372)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_command_update_profile [label="handle_command_update_profile\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:377)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator__last_story_finished_correctly [label="last_story_finished_correctly\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:511)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator__merge_profile_updates [label="merge_profile_updates\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:1376)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator__process_command [label="process_command\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:284)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator__process_frontend_request [label="process_frontend_request\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:203)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator__refresh_token_periodically [label="refresh_token_periodically\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:940)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator__send_message_to_frontend [label="send_message_to_frontend\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:594)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator__send_working_command_to_frontend [label="send_working_command_to_frontend\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:579)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator__supervisor_chat_assistant_message [label="supervisor_chat_assistant_message\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:648)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
                orchestrator__orchestrator__MagicTalesCoreOrchestrator__update_story_state [label="update_story_state\n(/media/neoadmin/Treasure/0000NC-laptop/personal/00-MAGIC-TALES/magit_tales_pro/magic_tales_ai_back_end/services/orchestrator/orchestrator.py:976)", style="filled", fillcolor="#ff6565b2", fontcolor="#000000", group="0"];
            }
        }
    }
        orchestrator__orchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_command_conversation_recovery [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___convert_chat_to_string [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_user_id_change [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__process_frontend_request [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___initialize_assistants [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__send_working_command_to_frontend [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___update_profile_from_chat [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_communication_with_assistant [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_starting_message [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_user_request_update_profile [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___validate_openai_api_key [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_system_request_to_update_user [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_chapter [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___extract_post_processed_chapters [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator____init__ [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_assistant_requests [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_image_prompts_for_all_chapters [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_link_user_with_conversations [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__supervisor_chat_assistant_message [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__merge_profile_updates [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___check_profile_exists [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_story [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___send_error_message [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___cancel_token_refresh_task [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___fetch_user_data_and_update_knowledge_base [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_spin_off_tale [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__refresh_token_periodically [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___create_new_profile_from_chat [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_command_update_profile [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___format_messages [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___reset [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___check_for_correct_keys_within_command [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__last_story_finished_correctly [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__create_and_send_progress_update [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___process_story_generation_step [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__send_message_to_frontend [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__process_command [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_new_tale [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_chapter_title [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___query_user_data [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_command_new_tale [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___resume_story [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_command_link_user_with_conversations [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_image_prompts [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__update_story_state [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___extract_chat_key_elements [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_cover_image_prompt [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___filter_chat_info [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_command_spin_off [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___save_command_message [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_start_story_generation [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__fetch_latest_story_for_user [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_images [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_final_document [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__create_story_foundation_from_chat_elements [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_continue_where_we_left_off_response [style="dashed",  color="#838b8b"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator____init__ -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_command_conversation_recovery [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator____init__ -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_communication_with_assistant [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator____init__ -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___validate_openai_api_key [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator____init__ -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_command_new_tale [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator____init__ -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_command_link_user_with_conversations [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator____init__ -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_command_spin_off [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator____init__ -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_command_update_profile [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator__process_frontend_request -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__send_working_command_to_frontend [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator__process_frontend_request -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_user_id_change [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator__process_frontend_request -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__refresh_token_periodically [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator__process_frontend_request -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__send_message_to_frontend [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator__process_frontend_request -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__process_command [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator__process_frontend_request -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___save_command_message [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_user_id_change -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_system_request_to_update_user [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_user_id_change -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___initialize_assistants [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_user_id_change -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_starting_message [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_user_id_change -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___fetch_user_data_and_update_knowledge_base [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___initialize_assistants -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___send_error_message [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_command_new_tale -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__last_story_finished_correctly [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_command_new_tale -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_new_tale [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_command_spin_off -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_spin_off_tale [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_command_update_profile -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_user_request_update_profile [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_command_conversation_recovery -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_system_request_to_update_user [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_command_conversation_recovery -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__send_message_to_frontend [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___send_error_message -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__send_message_to_frontend [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator__last_story_finished_correctly -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_system_request_to_update_user [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator__last_story_finished_correctly -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__fetch_latest_story_for_user [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___resume_story -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___process_story_generation_step [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___resume_story -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__fetch_latest_story_for_user [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator__create_and_send_progress_update -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__send_message_to_frontend [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator__supervisor_chat_assistant_message -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___format_messages [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_communication_with_assistant -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__send_working_command_to_frontend [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_communication_with_assistant -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_system_request_to_update_user [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_communication_with_assistant -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_assistant_requests [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_communication_with_assistant -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__supervisor_chat_assistant_message [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_communication_with_assistant -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__send_message_to_frontend [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_spin_off_tale -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___reset [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_spin_off_tale -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_system_request_to_update_user [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_spin_off_tale -> orchestrator__orchestrator__MagicTalesCoreOrchestrator____init__ [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_new_tale -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_system_request_to_update_user [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_new_tale -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___reset [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_system_request_to_update_user -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_communication_with_assistant [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___fetch_user_data_and_update_knowledge_base -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___query_user_data [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___process_story_generation_step -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__update_story_state [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_assistant_requests -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_continue_where_we_left_off_response [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_assistant_requests -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___update_profile_from_chat [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_assistant_requests -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_system_request_to_update_user [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_assistant_requests -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___create_new_profile_from_chat [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_assistant_requests -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__send_message_to_frontend [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_assistant_requests -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_start_story_generation [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator__handle_assistant_requests -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___fetch_user_data_and_update_knowledge_base [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___check_for_correct_keys_within_command -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_system_request_to_update_user [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_start_story_generation -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__send_working_command_to_frontend [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_start_story_generation -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_system_request_to_update_user [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_start_story_generation -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___check_profile_exists [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_start_story_generation -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___check_for_correct_keys_within_command [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_start_story_generation -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___process_story_generation_step [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_start_story_generation -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___extract_chat_key_elements [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_start_story_generation -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__create_story_foundation_from_chat_elements [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_continue_where_we_left_off_response -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_system_request_to_update_user [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_continue_where_we_left_off_response -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___check_for_correct_keys_within_command [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_continue_where_we_left_off_response -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_new_tale [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___handle_continue_where_we_left_off_response -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___resume_story [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___update_profile_from_chat -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_system_request_to_update_user [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___update_profile_from_chat -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___check_profile_exists [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___update_profile_from_chat -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___check_for_correct_keys_within_command [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___create_new_profile_from_chat -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_system_request_to_update_user [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___create_new_profile_from_chat -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___check_profile_exists [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___create_new_profile_from_chat -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___check_for_correct_keys_within_command [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_story -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_chapter [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_story -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_system_request_to_update_user [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_story -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__create_and_send_progress_update [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_chapter -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_chapter_title [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_image_prompts_for_all_chapters -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__create_and_send_progress_update [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_image_prompts -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_system_request_to_update_user [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_image_prompts -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___extract_post_processed_chapters [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_image_prompts -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_cover_image_prompt [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_image_prompts -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_image_prompts_for_all_chapters [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_images -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_system_request_to_update_user [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_images -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__create_and_send_progress_update [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_final_document -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__send_working_command_to_frontend [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_final_document -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___fetch_user_data_and_update_knowledge_base [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_final_document -> orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_system_request_to_update_user [style="solid",  color="#000000"];
        orchestrator__orchestrator__MagicTalesCoreOrchestrator___generate_final_document -> orchestrator__orchestrator__MagicTalesCoreOrchestrator__create_and_send_progress_update [style="solid",  color="#000000"];
    }
